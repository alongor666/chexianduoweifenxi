# 技能质量检查清单

本文档详细说明所有检查项目、评分标准和改进建议。

## 检查维度概览

| 维度       | 权重 | 说明                        |
| ---------- | ---- | --------------------------- |
| 结构完整性 | 30分 | 必需文件、目录结构          |
| YAML规范性 | 20分 | frontmatter格式和必需字段   |
| 描述质量   | 15分 | description的清晰度和完整性 |
| 内容质量   | 20分 | SKILL.md的结构和信息组织    |
| 引用有效性 | 10分 | 文件引用的正确性            |
| 代码质量   | 5分  | scripts的规范性和可执行性   |

---

## 1. 结构完整性检查 (30分)

### 1.1 必需文件 ✅

**检查项:**

- [ ] 存在 `SKILL.md` 文件（必需）

**评分:**

- 缺少 SKILL.md: -30分（致命问题）

**改进建议:**

```bash
# 创建基础SKILL.md
touch SKILL.md
```

### 1.2 推荐目录结构 ⭐

**检查项:**

- [ ] `scripts/` - 可重用的Python脚本
- [ ] `references/` - 参考文档和配置
- [ ] `assets/` - 输出使用的资源文件

**评分:**

- 不影响分数，仅建议

**何时需要:**

- **scripts/**: 有重复执行的代码、需要确定性结果
- **references/**: 有配置参数、详细文档、API说明
- **assets/**: 有模板文件、图片、字体等非上下文资源

### 1.3 示例文件清理 ⚠️

**检查项:**

- [ ] 没有未清理的 example.py、example.md 等文件

**评分:**

- 存在示例文件: -5分（警告）

**改进建议:**

```bash
# 删除示例文件
rm scripts/example.py
rm references/api_reference.md
rm assets/example_asset.txt
```

---

## 2. YAML Frontmatter规范性 (20分)

### 2.1 基础格式 🔴

**检查项:**

```yaml
---
name: your-skill-name
description: >
  [技能描述]
---
```

**评分:**

- 缺少YAML块: -20分（致命）
- 缺少name字段: -10分（致命）
- 缺少description字段: -10分（致命）

**改进建议:**

```yaml
---
name: my-awesome-skill
description: >
  完整的技能功能描述。Use when [场景1], [场景2], [场景3].
  适用于: (1) [用途1] (2) [用途2] (3) [用途3]
---
```

### 2.2 Name字段规范 ⭐

**最佳实践:**

- 使用小写
- 用连字符分隔单词
- 简洁且描述性
- 避免特殊字符

**示例:**

```yaml
✅ name: excel-field-analyzer
✅ name: doc-coauthoring
❌ name: MySkill
❌ name: skill_name
❌ name: 技能名称
```

---

## 3. Description质量检查 (15分)

### 3.1 "何时使用"说明 ⚠️

**检查项:**

- [ ] 包含触发场景说明（Use when/适用于/触发）

**评分:**

- 缺少: -8分（警告）

**改进建议:**

```yaml
description: >
  [功能描述]. Use when [触发条件1], [触发条件2], or [触发条件3].
```

**关键词示例:**

- "Use when..."
- "适用于..."
- "Trigger when..."
- "Call this skill if..."

### 3.2 具体场景数量 ⚠️

**检查项:**

- [ ] 列举3-5个具体使用场景

**评分:**

- <3个场景: -5分（警告）

**改进建议:**

```yaml
description: >
  数据分析工具。Use when:
  (1) 分析Excel字段结构
  (2) 生成数据字典
  (3) 验证数据质量
  (4) 创建字段映射
  (5) 导出分析报告
```

### 3.3 描述长度 ⚠️

**检查项:**

- [ ] 至少100个字符

**评分:**

- <100字符: -5分（警告）

**改进建议:**
补充以下内容：

- 技能的核心功能
- 主要使用场景
- 支持的输入输出
- 特殊能力或优势

---

## 4. SKILL.md内容质量 (20分)

### 4.1 长度控制 ⚠️

**检查项:**

- [ ] 正文内容 < 500行

**评分:**

- > 500行: -10分（警告）

**改进建议:**

```markdown
# 技能名称

## 快速开始

[简洁的2-3步使用说明]

## 高级功能

详见 `references/advanced.md`

## 配置参数

参考 `references/config.md` 了解所有配置项
```

**渐进披露原则:**

- SKILL.md: 核心流程 + 快速开始
- references/: 详细文档、配置说明、高级功能

### 4.2 推荐章节结构 ⭐

**检查项:**

- [ ] ## 快速开始 (Quick Start)
- [ ] ## 工作流程 (Workflow/Usage)

**评分:**

- 不影响分数，仅建议

**完整结构示例:**

```markdown
# 技能名称

## 快速开始

1. 准备输入数据
2. 运行 `scripts/process.py`
3. 查看输出结果

## 工作流程

详细的步骤说明...

## 配置说明

参见 `references/config.md`

## 进阶功能

- **多格式支持**: 见 `references/formats.md`
- **批量处理**: 见 `references/batch.md`
```

### 4.3 代码块管理 ⭐

**检查项:**

- [ ] 没有超长代码块（>50行）

**评分:**

- 不影响分数，仅建议

**改进建议:**

````markdown
❌ 不推荐：

## 数据处理脚本

```python
[200行代码]
```
````

✅ 推荐：

## 数据处理

运行 `scripts/process_data.py` 进行数据处理。

脚本接受以下参数:

- input: 输入文件路径
- output: 输出目录

详见脚本内的文档字符串了解更多选项。

````

---

## 5. 文件引用有效性 (10分)

### 5.1 引用格式 ⚠️

**检查的引用格式:**
```markdown
`scripts/example.py`
`references/config.json`
[配置说明](references/config.md)
````

**评分:**

- 每个失效引用: -2分（上限-10分）

**改进建议:**

```bash
# 检查文件是否存在
ls scripts/example.py
ls references/config.md

# 创建缺失的文件或删除引用
```

### 5.2 相对路径规范 ⭐

**最佳实践:**

```markdown
✅ `scripts/process.py`
✅ `references/config.json`
✅ [文档](references/guide.md)

❌ `/absolute/path/file.py` # 避免绝对路径
❌ `../other/file.py` # 避免父目录引用
```

---

## 6. Scripts质量检查 (5分)

### 6.1 Shebang ⭐

**检查项:**

```python
#!/usr/bin/env python3
```

**评分:**

- 不影响分数，仅建议

### 6.2 文档字符串 ⭐

**检查项:**

```python
#!/usr/bin/env python3
"""
脚本功能简述

用法: python script.py <arg1> <arg2>
参数:
  arg1 - 参数1说明
  arg2 - 参数2说明
"""
```

**评分:**

- 不影响分数，仅建议

### 6.3 语法正确性 🔴

**检查项:**

- [ ] Python语法无错误

**评分:**

- 语法错误: -15分/文件（致命）

**改进建议:**

```bash
# 手动语法检查
python -m py_compile scripts/*.py

# 或使用IDE检查
```

---

## 7. References文档质量 (不计分)

### 7.1 基础结构 ⭐

**检查项:**

- [ ] 包含一级标题
- [ ] 内容充实（>50字符）
- [ ] 不是示例占位符

**改进建议:**

```markdown
# 配置参数说明

## 基础配置

| 参数      | 类型  | 默认值 | 说明       |
| --------- | ----- | ------ | ---------- |
| threshold | float | 0.8    | 阈值设定   |
| max_items | int   | 100    | 最大处理数 |

## 高级配置

...
```

### 7.2 Markdown规范 ⭐

**推荐格式:**

- 使用表格展示配置项
- 使用代码块展示示例
- 使用列表说明步骤
- 使用标题层级组织内容

---

## 评分等级标准

| 分数范围 | 等级       | 说明                     |
| -------- | ---------- | ------------------------ |
| 90-100   | A - 优秀   | 完全符合最佳实践         |
| 80-89    | B - 良好   | 基本符合，有少量改进空间 |
| 70-79    | C - 合格   | 满足基本要求，建议优化   |
| 60-69    | D - 需改进 | 存在明显问题，需要修复   |
| 0-59     | F - 不合格 | 有致命问题，无法正常使用 |

**通过标准:**

- 分数 ≥ 70
- 无致命问题（Critical Issues）

---

## 快速改进指南

### 优先级1: 修复致命问题 🔴

1. 添加缺失的 SKILL.md
2. 补充YAML frontmatter
3. 修复脚本语法错误

### 优先级2: 解决警告 ⚠️

1. 优化description质量
2. 修复失效文件引用
3. 清理示例文件
4. 精简过长的SKILL.md

### 优先级3: 优化建议 ⭐

1. 添加推荐章节
2. 改进脚本文档
3. 完善references内容
4. 优化目录结构

---

## 常见问题

### Q: 我的技能很简单,不需要scripts/references怎么办?

A: 完全可以!这些目录是可选的。如果不需要可以删除,检查器不会扣分。

### Q: description写多长合适?

A: 建议100-300字符。要包含:功能描述+触发场景+3-5个具体用途。

### Q: SKILL.md超过500行怎么办?

A: 将详细内容移到references/。SKILL.md保留核心流程和快速开始即可。

### Q: 什么情况下应该创建scripts/?

A: 有以下情况时创建:

- 需要重复执行的代码
- 需要确定性输出
- 复杂的数据处理逻辑
- 可以被SKILL.md多次引用的功能

### Q: 评分70分就合格了吗?

A: 是的。但更重要的是没有致命问题。即使90分但有致命问题,也无法正常使用。
