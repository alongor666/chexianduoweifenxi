---
id: 05_guides_year_plans_import
title: 'å¹´åº¦è®¡åˆ’å¯¼å…¥æŒ‡å—'
author: AI_Assistant
status: active
type: guide
domain: operations
tags:
  - guide
  - configuration
  - operations
created_at: '2025-12-16'
updated_at: '2025-12-16'
---

# å¹´åº¦è®¡åˆ’å¯¼å…¥æŒ‡å—

## æ¦‚è¿°

æœ¬æŒ‡å—è¯´æ˜å¦‚ä½•å°†å¹´åº¦ä¿è´¹è®¡åˆ’å¯¼å…¥åˆ°ç³»ç»Ÿä¸­,ç”¨äºæ—¶é—´è¿›åº¦è¾¾æˆç‡ç­‰æŒ‡æ ‡çš„è®¡ç®—ã€‚

## å‰ææ¡ä»¶

- å·²éƒ¨ç½²å¹¶è¿è¡Œç³»ç»Ÿ
- æœ‰ç®¡ç†å‘˜æƒé™(èƒ½è®¿é—®æµè§ˆå™¨å¼€å‘è€…å·¥å…·)
- year-plans.json æ–‡ä»¶å·²é…ç½®å®Œæˆ

## å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€: UIç•Œé¢å¯¼å…¥ (æ¨èâœ¨)

**æ­¥éª¤1**: æ‰“å¼€ç³»ç»Ÿ,ç‚¹å‡»é¡¶éƒ¨å¯¼èˆªçš„"æ•°æ®ç®¡ç†"æ ‡ç­¾

**æ­¥éª¤2**: åœ¨æ•°æ®ç®¡ç†é¡µé¢,ç‚¹å‡»"å¹´åº¦ç›®æ ‡"å­æ ‡ç­¾

**æ­¥éª¤3**: æŸ¥çœ‹å¹´åº¦è®¡åˆ’å¯¼å…¥ç•Œé¢

ç•Œé¢ä¼šæ˜¾ç¤º:
- **å¯¼å…¥æ¦‚è§ˆ**: å¹´ä»½ã€å…¨å…¬å¸ç›®æ ‡ã€æœºæ„æ•°é‡ã€éªŒè¯é€šè¿‡æ•°
- **æ•°æ®éªŒè¯**: è‡ªåŠ¨æ£€æŸ¥æœºæ„åç§°æ˜¯å¦ä¸å½“å‰æ•°æ®åŒ¹é…
- **å·®å¼‚å¯¹æ¯”**: æŸ¥çœ‹æ–°æ—§ç›®æ ‡çš„å·®å¼‚
- **å¯¼å…¥å†å²**: æŸ¥çœ‹è¿‡å»çš„å¯¼å…¥è®°å½•

**æ­¥éª¤4**: ç‚¹å‡»"ç¡®è®¤å¯¼å…¥"æŒ‰é’®

ç³»ç»Ÿä¼š:
1. éªŒè¯æœºæ„åç§°(å¦‚æœ‰ä¸åŒ¹é…ä¼šæ˜¾ç¤ºè­¦å‘Š)
2. ä¿å­˜å¹´åº¦è®¡åˆ’åˆ°ç³»ç»Ÿç›®æ ‡
3. è®°å½•å¯¼å…¥å†å²
4. è‡ªåŠ¨åˆ·æ–°é¡µé¢åº”ç”¨æ–°ç›®æ ‡

**åŠŸèƒ½ç‰¹æ€§**:
- âœ… **æœºæ„åç§°éªŒè¯**: è‡ªåŠ¨æ£€æŸ¥å¹´åº¦è®¡åˆ’ä¸­çš„æœºæ„æ˜¯å¦åœ¨æ•°æ®ä¸­å­˜åœ¨
- âœ… **å·®å¼‚å¯¹æ¯”**: å¯¼å…¥å‰æŸ¥çœ‹æ–°æ—§ç›®æ ‡çš„å˜åŒ–,æ”¯æŒæŒ‰å˜åŒ–å¹…åº¦æ’åº
- âœ… **å¯¼å…¥å†å²**: è®°å½•æœ€è¿‘10æ¬¡å¯¼å…¥,åŒ…å«æ—¶é—´æˆ³å’Œæ•°æ®æ¦‚è§ˆ
- âœ… **ä¸€é”®å¯¼å…¥**: æ— éœ€æ§åˆ¶å°æ“ä½œ,ç•Œé¢å‹å¥½

---

### æ–¹å¼äºŒ: æ§åˆ¶å°å¯¼å…¥ (å¤‡é€‰)

**æ­¥éª¤1**: æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·

åœ¨ç³»ç»Ÿé¡µé¢ä¸ŠæŒ‰ `F12` æˆ–å³é”®é€‰æ‹©"æ£€æŸ¥",æ‰“å¼€å¼€å‘è€…å·¥å…·,åˆ‡æ¢åˆ°"Console"(æ§åˆ¶å°)æ ‡ç­¾ã€‚

**æ­¥éª¤2**: å¯¼å…¥å¹´åº¦è®¡åˆ’

åœ¨æ§åˆ¶å°ä¸­ç²˜è´´ä»¥ä¸‹å‘½ä»¤å¹¶å›è½¦:

```javascript
import('/utils/import-year-plans').then(m => m.importYearPlans())
```

æˆ–ä½¿ç”¨ç®€åŒ–å‘½ä»¤(å¦‚æœå…¨å±€å‡½æ•°å·²åŠ è½½):

```javascript
importYearPlans()
```

**æ­¥éª¤3**: æŸ¥çœ‹å¯¼å…¥ç»“æœ

æ§åˆ¶å°ä¼šæ˜¾ç¤ºå¯¼å…¥ç»“æœ:

```
âœ… å¹´åº¦è®¡åˆ’å·²æˆåŠŸå¯¼å…¥åˆ°ç³»ç»Ÿç›®æ ‡
ğŸ“Š å¯¼å…¥æ•°æ®æ¦‚è§ˆ:
  å¹´ä»½: 2025
  å…¨å…¬å¸æ€»ç›®æ ‡: 43100.00ä¸‡å…ƒ
  æœºæ„æ•°é‡: 14
  æœºæ„æ˜ç»†: {
    å››å·åˆ†å…¬å¸: 431000000,
    å¤©åºœ: 197300000,
    æ­¦ä¾¯: 13500000,
    ...
  }
ğŸ’¡ è¯·åˆ·æ–°é¡µé¢ä»¥æŸ¥çœ‹æ›´æ–°åçš„ç›®æ ‡
```

**æ­¥éª¤4**: åˆ·æ–°é¡µé¢

æŒ‰ `F5` åˆ·æ–°é¡µé¢,ç³»ç»Ÿä¼šè‡ªåŠ¨åº”ç”¨æ–°çš„ç›®æ ‡æ•°æ®ã€‚

## å¸¸ç”¨å‘½ä»¤

### æŸ¥çœ‹å½“å‰ç›®æ ‡

```javascript
import('/utils/import-year-plans').then(m => m.viewTargets())
// æˆ–
viewTargets()
```

**è¾“å‡ºç¤ºä¾‹**:
```
ğŸ“Š å½“å‰ç³»ç»Ÿç›®æ ‡:
  å¹´ä»½: 2025
  å…¨å…¬å¸æ€»ç›®æ ‡: 43100.00ä¸‡å…ƒ
  æ›´æ–°æ—¶é—´: 2025-12-16T08:30:00.000Z
  ä¸‰çº§æœºæ„ç›®æ ‡: {...}
  ä¸šåŠ¡ç±»å‹ç›®æ ‡: {...}
```

### æ¸…é™¤æ‰€æœ‰ç›®æ ‡

```javascript
import('/utils/import-year-plans').then(m => m.clearTargets())
// æˆ–
clearTargets()
```

ä¼šå¼¹å‡ºç¡®è®¤å¯¹è¯æ¡†,ç¡®è®¤åæ¸…é™¤ LocalStorage ä¸­çš„æ‰€æœ‰ç›®æ ‡æ•°æ®ã€‚

### å¯¼å…¥æŒ‡å®šå¹´ä»½çš„è®¡åˆ’

```javascript
import('/utils/import-year-plans').then(m => m.importYearPlans(2026))
```

## æ•°æ®è¯´æ˜

### year-plans.json æ–‡ä»¶æ ¼å¼

```json
{
  "å¹´åº¦ä¿è´¹è®¡åˆ’": {
    "å››å·åˆ†å…¬å¸": 431000000,
    "å¤©åºœ": 197300000,
    "æ­¦ä¾¯": 13500000,
    "é«˜æ–°": 55700000,
    ...
  }
}
```

**å­—æ®µè¯´æ˜**:
- é”®: æœºæ„åç§°(éœ€ä¸ç³»ç»Ÿä¸­çš„ `third_level_organization` å­—æ®µåŒ¹é…)
- å€¼: å¹´åº¦ä¿è´¹ç›®æ ‡,å•ä½ä¸º**å…ƒ**(ä¸æ˜¯ä¸‡å…ƒ)

### å¯¼å…¥åçš„æ•°æ®ç»“æ„

å¯¼å…¥åä¼šè‡ªåŠ¨è½¬æ¢ä¸ºä»¥ä¸‹ç»“æ„:

```typescript
{
  year: 2025,                          // å¹´ä»½
  overall: 431000000,                  // å…¨å…¬å¸æ€»ç›®æ ‡(æ‰€æœ‰æœºæ„ä¹‹å’Œ)
  byBusinessType: {},                  // ä¸šåŠ¡ç±»å‹ç›®æ ‡(éœ€æ‰‹åŠ¨è®¾ç½®)
  dimensions: {
    thirdLevelOrganization: {          // ä¸‰çº§æœºæ„ç»´åº¦
      entries: {
        "å››å·åˆ†å…¬å¸": 431000000,
        "å¤©åºœ": 197300000,
        ...
      },
      updatedAt: "2025-12-16T08:30:00.000Z",
      versions: []
    },
    businessType: { ... },             // å…¶ä»–ç»´åº¦
    customerCategory: { ... },
    insuranceType: { ... }
  },
  updatedAt: "2025-12-16T08:30:00.000Z"
}
```

## æ—¶é—´è¿›åº¦è¾¾æˆç‡è®¡ç®—

å¯¼å…¥å¹´åº¦è®¡åˆ’å,ç³»ç»Ÿä¼šè‡ªåŠ¨ä½¿ç”¨è¿™äº›ç›®æ ‡è®¡ç®—æ—¶é—´è¿›åº¦è¾¾æˆç‡:

### è®¡ç®—å…¬å¼

**ç´¯è®¡æ¨¡å¼**:
```
æ—¶é—´è¿›åº¦è¾¾æˆç‡ = (ç´¯è®¡ç­¾å•ä¿è´¹ / å¹´åº¦ç›®æ ‡) Ã· (å½“å‰å‘¨æ•° / 50å‘¨) Ã— 100%
```

**å¢é‡æ¨¡å¼**:
```
æ—¶é—´è¿›åº¦è¾¾æˆç‡ = (æœ¬å‘¨ç­¾å•ä¿è´¹ / å‘¨å‡ç›®æ ‡) Ã— 100%
å…¶ä¸­: å‘¨å‡ç›®æ ‡ = å¹´åº¦ç›®æ ‡ / 50å‘¨
```

### ç›®æ ‡è§£æä¼˜å…ˆçº§

ç³»ç»Ÿä½¿ç”¨ä»¥ä¸‹ä¼˜å…ˆçº§è§£æç›®æ ‡:

1. **ä¸šåŠ¡ç±»å‹ç›®æ ‡** (æœ€é«˜ä¼˜å…ˆçº§)
2. **ä¸‰çº§æœºæ„ç›®æ ‡** (year-plans.json å¯¼å…¥çš„æ•°æ®)
3. **å®¢æˆ·ç±»åˆ«ç›®æ ‡**
4. **é™©ç§ç›®æ ‡**
5. **å…¨å…¬å¸æ€»ç›®æ ‡** (æœ€ä½ä¼˜å…ˆçº§)

**ç¤ºä¾‹**:
- é€‰æ‹©"å¤©åºœ"æœºæ„æ—¶,ä½¿ç”¨ `dimensions.thirdLevelOrganization.entries.å¤©åºœ` çš„å€¼
- æœªé€‰æ‹©ä»»ä½•ç­›é€‰æ¡ä»¶æ—¶,ä½¿ç”¨ `overall` å…¨å…¬å¸æ€»ç›®æ ‡

## é©¾é©¶èˆ±ä¸­çš„åº”ç”¨

å¯¼å…¥å,ä¼ä¸šé©¾é©¶èˆ±ä¼šè‡ªåŠ¨ä½¿ç”¨æ–°ç›®æ ‡:

### ç¬¬ä¸€è¡Œ: æ—¶é—´è¿›åº¦è¾¾æˆç‡å¡ç‰‡
- æ˜¾ç¤ºå½“å‰ç­›é€‰æ¡ä»¶ä¸‹çš„æ—¶é—´è¿›åº¦è¾¾æˆç‡
- æ ¹æ®é˜ˆå€¼æ˜¾ç¤ºçŠ¶æ€é¢œè‰²(å±é™©/é¢„è­¦/å¥åº·/ä¼˜ç§€/å“è¶Š)
- ç‚¹å‡»"æ˜¾ç¤ºå…¬å¼"å¯æŸ¥çœ‹è®¡ç®—å£å¾„

### ç¬¬äºŒè¡Œ: é£é™©ç»Ÿè®¡
- "æ—¶é—´è¿›åº¦è¾¾æˆç‡è½åæœºæ„æ•°": æ˜¾ç¤ºé¢„è­¦æˆ–å±é™©çŠ¶æ€çš„æœºæ„æ•°é‡
- ç‚¹å‡»å¡ç‰‡å¯è·³è½¬åˆ°è¯¦ç»†åˆ†æ

### ç¬¬ä¸‰éƒ¨åˆ†: æ—¶é—´è¿›åº¦è¾¾æˆç‡è§‚å¯Ÿ
- æ¨ªå‘æ¡å½¢å›¾å±•ç¤ºæ‰€æœ‰è½åæœºæ„
- ä»æœ€å·®åˆ°æœ€å¥½æ’åº
- é¢œè‰²åŒºåˆ†å±é™©(çº¢)å’Œé¢„è­¦(æ©™)çŠ¶æ€

## å¸¸è§é—®é¢˜

### Q1: å¯¼å…¥åæ²¡æœ‰ç”Ÿæ•ˆæ€ä¹ˆåŠ?

**A**: éœ€è¦åˆ·æ–°é¡µé¢(F5)æ‰èƒ½åº”ç”¨æ–°çš„ç›®æ ‡æ•°æ®ã€‚

### Q2: å¦‚ä½•æ›´æ–°å·²å¯¼å…¥çš„ç›®æ ‡?

**A**: ç›´æ¥å†æ¬¡æ‰§è¡Œ `importYearPlans()`,ä¼šè¦†ç›–ç°æœ‰ç›®æ ‡ã€‚

### Q3: ä¸šåŠ¡ç±»å‹ç›®æ ‡åœ¨å“ªé‡Œè®¾ç½®?

**A**: year-plans.json åªåŒ…å«æœºæ„ç»´åº¦ç›®æ ‡,ä¸šåŠ¡ç±»å‹ç›®æ ‡éœ€è¦åœ¨ç³»ç»Ÿçš„"å…¨å±€è®¾ç½®"ä¸­æ‰‹åŠ¨é…ç½®,æˆ–é€šè¿‡ä»£ç è®¾ç½®:

```javascript
import { useAppStore } from '@/store/use-app-store'
const store = useAppStore.getState()
store.setPremiumTargets({
  ...store.premiumTargets,
  byBusinessType: {
    'å•†ä¸šé™©': 200000000,
    'äº¤å¼ºé™©': 150000000,
    ...
  }
})
```

### Q4: å¯¼å…¥çš„æ•°æ®å­˜å‚¨åœ¨å“ªé‡Œ?

**A**: å­˜å‚¨åœ¨æµè§ˆå™¨çš„ LocalStorage ä¸­,keyä¸º `insurDashPremiumTargets`ã€‚

**æ³¨æ„**: æ¸…é™¤æµè§ˆå™¨ç¼“å­˜æˆ–æ¢è®¾å¤‡åéœ€è¦é‡æ–°å¯¼å…¥ã€‚

### Q5: å¦‚ä½•å¤‡ä»½å½“å‰ç›®æ ‡?

**A**: åœ¨æ§åˆ¶å°æ‰§è¡Œ:

```javascript
// å¯¼å‡ºå½“å‰ç›®æ ‡åˆ°å˜é‡
const backup = JSON.parse(localStorage.getItem('insurDashPremiumTargets'))
console.log(JSON.stringify(backup, null, 2))

// å¤åˆ¶è¾“å‡ºçš„JSONå¹¶ä¿å­˜åˆ°æ–‡ä»¶
```

**æ¢å¤å¤‡ä»½**:
```javascript
const backup = { /* ç²˜è´´å¤‡ä»½çš„JSON */ }
localStorage.setItem('insurDashPremiumTargets', JSON.stringify(backup))
location.reload()
```

### Q6: æœºæ„åç§°ä¸åŒ¹é…æ€ä¹ˆåŠ?

**A**: ç¡®ä¿ year-plans.json ä¸­çš„æœºæ„åç§°ä¸æ•°æ®ä¸­çš„ `third_level_organization` å­—æ®µå®Œå…¨ä¸€è‡´(åŒ…æ‹¬ç©ºæ ¼å’Œæ ‡ç‚¹)ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨è¿›è¡Œä¸­æ–‡æ–‡æœ¬è§„èŒƒåŒ–å¤„ç†ã€‚

## æŠ€æœ¯ç»†èŠ‚

### æ•°æ®è½¬æ¢æµç¨‹

```
year-plans.json
  â†“ (loadYearPlans)
PremiumTargets å¯¹è±¡
  â†“ (processAndSavePremiumTargets)
LocalStorage (insurDashPremiumTargets)
  â†“ (loadPremiumTargetsFromStorage)
ç³»ç»Ÿå…¨å±€çŠ¶æ€ (useAppStore)
  â†“
å„ç»„ä»¶ä½¿ç”¨ (use-kpi, use-comparison-analysisç­‰)
```

### ç›¸å…³æ–‡ä»¶

- **é…ç½®æ–‡ä»¶**: `src/config/year-plans.json`
- **è½¬æ¢å·¥å…·**: `src/config/load-year-plans.ts`
- **å¯¼å…¥å·¥å…·**: `src/utils/import-year-plans.ts`
- **å­˜å‚¨å·¥å…·**: `src/store/utils/target-utils.ts`
- **ç±»å‹å®šä¹‰**: `src/types/insurance.ts` (PremiumTargetsæ¥å£)

## ç›¸å…³æ–‡æ¡£

- [ADR-009: å¹´åº¦è®¡åˆ’é›†æˆæ–¹æ¡ˆ](../02_decisions/ADR-009_å¹´åº¦è®¡åˆ’é›†æˆæ–¹æ¡ˆ.md)
- [æ ¸å¿ƒæŒ‡æ ‡è®¡ç®—å¼•æ“](../03_technical_design/core_calculations.md)
- [ä¼ä¸šé©¾é©¶èˆ±åŠŸèƒ½æ–‡æ¡£](../01_features/F016_enterprise_cockpit/README.md)

## æ›´æ–°æ—¥å¿—

### 2025-12-16
- âœ… åˆå§‹ç‰ˆæœ¬
- âœ… åˆ›å»ºå¯¼å…¥å·¥å…·å’Œæ–‡æ¡£
- âœ… é€šè¿‡å…¨æµç¨‹éªŒè¯
