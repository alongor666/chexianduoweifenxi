# 任务完成后的检查清单

## 代码质量检查

### 1. Linting 和格式化

```bash
pnpm lint
```

- ✅ 确保没有 ESLint 错误
- ✅ 修复所有格式化警告

### 2. 类型检查

- ✅ 确保 TypeScript 编译通过（通过 `pnpm build` 验证）
- ✅ 修复所有类型错误和警告

## 测试验证

### 3. 单元测试

```bash
pnpm test
```

- ✅ 所有现有测试通过
- ✅ 新功能添加了相应的单元测试

### 4. 本地验证

```bash
pnpm dev
```

- ✅ 在浏览器中手动测试功能
- ✅ 检查控制台是否有错误
- ✅ 验证在 Chrome DevTools 中的表现

### 5. 生产构建测试

```bash
pnpm build
pnpm start
```

- ✅ 生产构建成功
- ✅ 生产模式下功能正常

## 文档更新

### 6. 代码分析

```bash
node analyze-codebase.js
```

- ✅ 运行代码分析工具
- ✅ 检查生成的 `codebase-analysis.json`

### 7. 更新功能文档

- ✅ 更新相关功能卡片（`开发文档/01_features/`）
  - 更新 `meta.json` 中的状态和完整度
  - 更新 `README.md` 中的功能描述
  - 记录新增的核心文件

### 8. 记录技术决策（如适用）

- ✅ 如果引入了新的技术选型，创建 ADR 文档
- ✅ 位置：`开发文档/02_decisions/ADR-{序号}_{描述}.md`

### 9. 创建开发日志（重大变更）

- ✅ 对于重大功能或修复，创建日志记录
- ✅ 位置：`开发文档/03_logs/YYYY-MM/YYYY-MM-DD_{描述}.md`

### 10. 更新主文档

- ✅ 更新 `开发文档/README.md`（如果状态有变化）
- ✅ 确保文档链接有效

## Git 提交

### 11. 提交代码

```bash
git add .
git commit -m "feat/fix/docs: 简短描述

详细说明（如需要）
- 变更点1
- 变更点2

相关功能: F001, F002
相关决策: ADR-001
"
```

### 12. 推送到远程（如适用）

```bash
git push origin <branch-name>
```

## 特殊场景检查

### 大数据处理功能

- ✅ 测试 10万+ 行数据
- ✅ 检查性能监控日志
- ✅ 验证内存使用是否合理

### 新增 Hook

- ✅ 使用细粒度选择器模式
- ✅ 正确配置 `useMemo` 依赖项
- ✅ 添加性能监控日志（如处理大数据）

### UI 组件变更

- ✅ 在不同屏幕尺寸下测试（响应式）
- ✅ 检查可访问性（ARIA 标签）
- ✅ 验证在 Safari/Firefox/Chrome 中的表现

### 数据验证变更

- ✅ 更新 Zod Schema
- ✅ 测试边界情况和错误处理
- ✅ 更新数据架构文档

## 最终检查

### 13. 整体验证

- ✅ 所有自动化检查通过
- ✅ 文档与代码保持一致
- ✅ 没有遗留的 TODO 或 FIXME
- ✅ 没有调试代码或 console.log

### 14. 协作准备

- ✅ 代码注释清晰（中文）
- ✅ 提交信息描述准确
- ✅ 功能卡片状态正确
- ✅ 相关文档已更新

## 注意事项

⚠️ **代码优先原则**：所有文档更新必须基于实际代码实现，而非计划或记忆。

⚠️ **小步快跑**：每次修改后立即验证，不要积累多个变更后再测试。

⚠️ **文档同步**：代码变更必须同步更新文档，保持知识库的准确性。
